@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==================== CSS VARIABLES ==================== */
:root {
  --primary: #10b981;
  --primary-dark: #059669;
  --primary-light: #34d399;
}

[data-theme="light"] {
  --bg-body: linear-gradient(135deg, #fafafa 0%, #f5f5f5 100%);
  --bg-sidebar: rgba(255, 255, 255, 0.95);
  --bg-content: rgba(255, 255, 255, 0.9);
  --bg-card: rgba(255, 255, 255, 0.7);
  --bg-primary: #ffffff;
  --bg-hover: rgba(16, 185, 129, 0.08);
  --bg-active: rgba(16, 185, 129, 0.12);
  --text-primary: #171717;
  --text-secondary: #6b7280;
  --text-tertiary: #9ca3af;
  --text-muted: #737373;
  --border: #e5e5e5;
  --shadow: rgba(0, 0, 0, 0.08);
  --shadow-hover: rgba(0, 0, 0, 0.15);
}

[data-theme="dark"] {
  --bg-body: linear-gradient(135deg, #1a1a1a 0%, #0f0f0f 100%);
  --bg-sidebar: rgba(38, 38, 38, 0.95);
  --bg-content: rgba(30, 30, 30, 0.9);
  --bg-card: rgba(38, 38, 38, 0.6);
  --bg-primary: #171717;
  --bg-hover: rgba(16, 185, 129, 0.15);
  --bg-active: rgba(16, 185, 129, 0.25);
  --text-primary: #fafafa;
  --text-secondary: #d1d5db;
  --text-tertiary: #9ca3af;
  --text-muted: #a3a3a3;
  --border: #404040;
  --shadow: rgba(0, 0, 0, 0.3);
  --shadow-hover: rgba(0, 0, 0, 0.5);
}

/* Garantir backdrop-filter funciona em todos navegadores */
.stat-card {
  -webkit-backdrop-filter: blur(20px);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: var(--bg-body);
  color: var(--text-primary);
  line-height: 1.6;
  transition: all 0.3s ease;
}

.app-container {
  display: flex;
  min-height: 100vh;
}

.main-content {
  flex: 1;
  margin-left: 280px;
  padding: 32px;
  transition: margin-left 0.3s ease;
}

.main-content.sidebar-collapsed {
  margin-left: 80px;
}

.page-header {
  margin-bottom: 32px;
}

.page-header h1 {
  font-size: 32px;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 8px;
}

.page-header p {
  color: var(--text-tertiary);
  font-size: 15px;
}

.page-content {
  background: var(--bg-content);
  backdrop-filter: blur(20px);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 32px;
  box-shadow: 0 2px 12px var(--shadow);
}

@media (max-width: 768px) {
  .main-content {
    margin-left: 0;
  }
}

/* KorLab Hub CSS Variables */
:root {
  --hub-bg-primary: #0a0a0a;
  --hub-bg-secondary: #18181b;
  --hub-bg-tertiary: #27272a;
  --hub-border-primary: #27272a;
  --hub-border-secondary: #3f3f46;
  --hub-text-primary: #f5f5f5;
  --hub-text-secondary: #e5e5e5;
  --hub-text-tertiary: #a1a1aa;
  --hub-text-muted: #71717a;
}

:root.light,
[data-theme="light"] {
  --hub-bg-primary: #ffffff;
  --hub-bg-secondary: #f8fafc;
  --hub-bg-tertiary: #f1f5f9;
  --hub-border-primary: #e2e8f0;
  --hub-border-secondary: #cbd5e1;
  --hub-text-primary: #0f172a;
  --hub-text-secondary: #1e293b;
  --hub-text-tertiary: #475569;
  --hub-text-muted: #64748b;
}

/* Text color only - background handled by GridGradientBackground */
body {
  color: var(--hub-text-secondary);
  transition: color 0.3s ease;
  min-height: 100vh;
  margin: 0;
  padding: 0;
}

#root {
  min-height: 100vh;
}

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here.
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Nutrition Health Design System */
    --primary: 160 84% 39%;        /* Verde Esmeralda Saúde */
    --primary-foreground: 0 0% 100%;
    
    --secondary: 217 91% 60%;      /* Azul Confiança */
    --secondary-foreground: 0 0% 100%;
    
    --accent: 258 90% 66%;         /* Roxo Inovação */
    --accent-foreground: 0 0% 100%;
    
    --background: 0 0% 98%;
    --foreground: 222 47% 11%;
    
    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;
    
    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;
    
    --border: 214 32% 91%;
    --input: 214 32% 91%;
    --ring: 160 84% 39%;
    
    --success: 142 71% 45%;
    --success-foreground: 0 0% 100%;
    
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 100%;
    
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    
    --muted: 210 40% 96%;
    --muted-foreground: 215 16% 47%;
    
    --radius: 0.75rem;
    
    /* Modal background */
    --modal-bg: #fafafa;
    
    /* Sidebar */
    --sidebar-background: 0 0% 100%;
    --sidebar-foreground: 220 9% 85%;
    --sidebar-primary: 220 9% 85%;
    --sidebar-primary-foreground: 220 13% 18%;
    --sidebar-accent: 160 84% 35%;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: 220 13% 25%;
    --sidebar-ring: 160 84% 35%;
    --sidebar-hover: 0 0% 96%;
    --sidebar-active: 142 76% 96%;
    --sidebar-shadow: 0 0% 0% / 0.05;
  }

  .dark {
    --primary: 160 84% 39%;
    --primary-foreground: 0 0% 100%;
    --background: 222 47% 11%;
    --foreground: 210 40% 98%;
    --card: 217 33% 17%;
    --card-foreground: 210 40% 98%;
    --border: 217 33% 25%;
    --input: 217 33% 25%;
    --ring: 160 84% 39%;
    --muted: 217 32% 18%;
    --muted-foreground: 215 20% 70%;
    
    /* Modal background dark */
    --modal-bg: #1a1a1a;
    
    /* Sidebar Dark */
    --sidebar-background: 0 0% 15%;
    --sidebar-hover: 0 0% 20%;
    --sidebar-active: 142 76% 15%;
    --sidebar-shadow: 0 0% 0% / 0.3;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply text-foreground font-inter;
    background: 
      radial-gradient(circle at 25% 25%, hsl(142 69% 58% / 0.05) 0%, transparent 50%),
      radial-gradient(circle at 75% 75%, hsl(217 91% 60% / 0.05) 0%, transparent 50%),
      linear-gradient(180deg, hsl(0 0% 99%) 0%, hsl(0 0% 97%) 100%);
  }

  .dark body {
    background: 
      radial-gradient(circle at 25% 25%, hsl(142 69% 58% / 0.08) 0%, transparent 50%),
      radial-gradient(circle at 75% 75%, hsl(217 91% 60% / 0.08) 0%, transparent 50%),
      linear-gradient(135deg, hsl(0 0% 10%) 0%, hsl(0 0% 4%) 100%);
  }
}

@layer components {
  .therapy-card {
    @apply bg-gradient-card border border-border rounded-xl shadow-card;
    @apply hover:shadow-hover transition-all duration-300;
    @apply hover:border-primary/40;
  }
  
  .soft-border {
    @apply border border-primary/40 rounded-xl bg-card;
  }
  
  .calm-button {
    @apply bg-gradient-primary text-primary-foreground font-poppins font-medium;
    @apply hover:shadow-glow transition-all duration-300 transform hover:scale-102;
    @apply active:scale-98 rounded-xl;
  }
  
  .metric-card {
    @apply therapy-card p-6 text-center;
    @apply hover:animate-slide-up border-2;
  }
  
  .therapeutic-bg {
    background-image: 
      radial-gradient(circle at 25% 25%, hsl(var(--primary) / 0.06) 0%, transparent 50%),
      radial-gradient(circle at 75% 75%, hsl(var(--secondary) / 0.06) 0%, transparent 50%);
  }

  /* Action buttons with distinct colors */
  .action-primary {
    @apply bg-primary text-primary-foreground hover:bg-primary/90;
  }
  
  .action-secondary {
    @apply bg-secondary text-secondary-foreground hover:bg-secondary/90;
  }
  
  .action-accent {
    @apply bg-accent text-accent-foreground hover:bg-accent/90;
  }
  
  .action-success {
    @apply bg-success text-success-foreground hover:bg-success/90;
  }
}

/* Animações suaves globais */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}

/* Pulse para loading */
@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.animate-pulse-slow {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Slide in from right */
@keyframes slideInRight {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.animate-slide-in-right {
  animation: slideInRight 0.3s ease-out;
}

/* Scale up */
@keyframes scaleUp {
  from {
    transform: scale(0.95);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

.animate-scale-up {
  animation: scaleUp 0.2s ease-out;
}

/* Hover effects aprimorados */
.hover-lift {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
}

/* Skeleton loading */
@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

.skeleton {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 1000px 100%;
  animation: shimmer 2s infinite;
}

/* KorLab Hub Theme Styles - Grid Background Adaptation */
[data-theme="light"] .gradient-layer {
  background:
    radial-gradient(ellipse 80% 50% at 50% -20%, rgba(99, 102, 241, 0.08), transparent 60%),
    radial-gradient(ellipse 60% 50% at 50% 120%, rgba(139, 92, 246, 0.06), transparent 50%) !important;
}

[data-theme="light"] .grid-layer {
  background-image:
    linear-gradient(to right, rgba(15, 23, 42, 0.04) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(15, 23, 42, 0.04) 1px, transparent 1px) !important;
}

/* Spin animation for loading indicators */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.animate-spin {
  animation: spin 1s linear infinite;
}

/* ============= CALENDAR DARK MODE - MÁXIMA PRIORIDADE ============= */

/* Forçar cores claras em TODOS os elementos do calendário no dark mode */
[data-theme="dark"] .rdp,
[data-theme="dark"] .rdp *,
[data-theme="dark"] .pointer-events-auto.rdp,
[data-theme="dark"] .pointer-events-auto.rdp * {
  color: #fafafa !important;
}

/* Título do mês */
[data-theme="dark"] .rdp-caption,
[data-theme="dark"] .rdp-caption_label,
[data-theme="dark"] .rdp-caption_label * {
  color: #fafafa !important;
  font-weight: 600 !important;
}

/* Labels dos dias da semana (dom, seg, ter, etc) */
[data-theme="dark"] .rdp-head_row,
[data-theme="dark"] .rdp-head_row *,
[data-theme="dark"] .rdp-head_cell,
[data-theme="dark"] .rdp-head_cell * {
  color: #d4d4d4 !important;
  font-weight: 500 !important;
}

/* Números dos dias */
[data-theme="dark"] .rdp-day,
[data-theme="dark"] .rdp-day *,
[data-theme="dark"] .rdp-cell,
[data-theme="dark"] .rdp-cell *,
[data-theme="dark"] .rdp-button,
[data-theme="dark"] .rdp-button *,
[data-theme="dark"] .rdp-day_button {
  color: #fafafa !important;
}

/* Dias de fora do mês */
[data-theme="dark"] .rdp-day_outside,
[data-theme="dark"] .rdp-day_outside * {
  color: #737373 !important;
  opacity: 0.5 !important;
}

/* Dias desabilitados */
[data-theme="dark"] .rdp-day_disabled,
[data-theme="dark"] .rdp-day_disabled * {
  color: #525252 !important;
  opacity: 0.4 !important;
}

/* Hover nos dias */
[data-theme="dark"] .rdp-button:hover:not([disabled]):not(.rdp-day_selected),
[data-theme="dark"] .rdp-button:hover:not([disabled]):not(.rdp-day_selected) * {
  background-color: rgba(255, 255, 255, 0.1) !important;
  color: #fafafa !important;
}

/* Dia selecionado */
[data-theme="dark"] .rdp-day_selected,
[data-theme="dark"] .rdp-day_selected *,
[data-theme="dark"] .rdp-day_selected:hover,
[data-theme="dark"] .rdp-day_selected:hover * {
  background-color: #10b981 !important;
  color: white !important;
}

/* Dia de hoje */
[data-theme="dark"] .rdp-day_today:not(.rdp-day_selected),
[data-theme="dark"] .rdp-day_today:not(.rdp-day_selected) * {
  background-color: rgba(16, 185, 129, 0.2) !important;
  color: #fafafa !important;
  font-weight: 700 !important;
}

/* Botões de navegação (anterior/próximo) */
[data-theme="dark"] button[name="previous-month"],
[data-theme="dark"] button[name="previous-month"] *,
[data-theme="dark"] button[name="next-month"],
[data-theme="dark"] button[name="next-month"] * {
  color: #fafafa !important;
}

[data-theme="dark"] button[name="previous-month"]:hover,
[data-theme="dark"] button[name="next-month"]:hover {
  background-color: rgba(255, 255, 255, 0.1) !important;
}

/* Ícones dos botões de navegação */
[data-theme="dark"] button[name="previous-month"] svg,
[data-theme="dark"] button[name="next-month"] svg {
  color: #fafafa !important;
  stroke: #fafafa !important;
}

/* Forçar todos os spans e divs dentro do calendário */
[data-theme="dark"] .rdp span,
[data-theme="dark"] .rdp div:not(.rdp-button) {
  color: #fafafa !important;
}

/* Remover qualquer cor herdada */
[data-theme="dark"] .rdp table,
[data-theme="dark"] .rdp tbody,
[data-theme="dark"] .rdp tr,
[data-theme="dark"] .rdp td {
  color: #fafafa !important;
}




